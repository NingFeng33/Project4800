<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/css/dashboard.css"> 
</head>
<body>
    <!-- Top Bar -->
    <%- include('partials/top_bar') %>

    <!-- Sidebar and Main Content Wrapper -->
    <div class="dashboard-wrapper">
        <!-- Sidebar -->
        <%- include('partials/side_bar') %>
        
        <!-- Main Content Area -->
        <main class="main-content">
            <section class="content-header">
                <h2>Dashboard Overview</h2>
            </section>

            <section class="content-body">
                <!-- Example Sections: Schedule Overview, Notifications, Room Availability -->
                <div class="card">
                    <h3>Today's Schedule</h3>
                    <ul>
                        <% bookings.forEach(booking => { %>
                            <li>
                                <strong>Course:</strong> <%= booking.Course.course_name %> <br>
                                <strong>Time:</strong> <%= new Date(booking.start_time).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }) %> - 
                                <%= new Date(booking.end_time).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }) %> <br>
                                <strong>Room:</strong> <%= booking.Room.room_number %>
                            </li>
                        <% }) %>
                    </ul>
                </div>

                <div class="card">
                    <h3>Room Availability</h3>
                    <ul>
                        <li>Room 101: Available</li>
                        <li>Room 202: Booked</li>
                        <li>Room 303: Available</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>Notifications</h3>
                    <ul>
                        <li>Room 202 has a conflict at 2:00 PM.</li>
                        <li>New schedule added for Course D.</li>
                    </ul>
                </div>

                <div class="card future-schedule">
                    <h3>Future Schedule</h3>
                    <div class="schedule-list">
                        <% if (futureBookings.length > 0) { %>
                            <% futureBookings.forEach(booking => { %>
                                <p>
                                    <strong>Course:</strong> <%= booking.Course.course_name %><br>
                                    <strong>Time:</strong>
                                    <%= new Date(booking.start_time).toLocaleString('en-US', { 
                                        hour: 'numeric', minute: 'numeric', hour12: true 
                                    }) %> - 
                                    <%= new Date(booking.end_time).toLocaleString('en-US', { 
                                        hour: 'numeric', minute: 'numeric', hour12: true 
                                    }) %><br>
                                    <strong>Date:</strong> 
                                    <%= new Date(booking.booking_date).toLocaleDateString('en-US') %><br>
                                    <strong>Room:</strong> <%= booking.Room.room_number %>
                                </p>
                            <% }) %>
                        <% } else { %>
                            <p>No upcoming bookings.</p>
                        <% } %>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="/scripts/dashboard.js"></script>
</body>
</html>
