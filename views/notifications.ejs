<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Notifications</title>
    <!-- Include Toastr CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
      rel="stylesheet"
    />
    <!-- Include any additional CSS -->
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <body>
    <!-- Include your top bar and sidebar if applicable -->
    <%- include('partials/top_bar') %> <%- include('partials/side_bar') %>

    <!-- Main Content Area -->
    <main class="main-content">
      <h1>Your Notifications</h1>
      <ul id="notificationList">
        <% notifications.forEach(function(notif) { %>
        <li class="<%= notif.is_read ? '' : 'unread' %>">
          <%= notif.message %> <% if (!notif.is_read) { %>
          <form
            action="/notifications/<%= notif.notification_id %>/read"
            method="post"
            style="display: inline"
          >
            <button type="submit">Mark as Read</button>
          </form>
          <% } %>
        </li>
        <% }); %>
      </ul>
    </main>

    <!-- Include jQuery and Toastr JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    <!-- Socket.IO client library -->
    <script src="/socket.io/socket.io.js"></script>

    <!-- Custom script -->
    <script>
      $(document).ready(function () {
        // Additional functionality if needed
      });
    </script>

    <style>
      /* Custom styles */
      .unread {
        font-weight: bold;
      }

      #notificationList {
        list-style-type: none;
        padding: 0;
      }

      #notificationList li {
        margin-bottom: 10px;
      }

      #notificationList button {
        margin-left: 10px;
      }
    </style>
  </body>
</html>
